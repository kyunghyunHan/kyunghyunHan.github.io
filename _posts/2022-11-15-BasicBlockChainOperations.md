---
layout: post
title: "블록체인 운영"
subtitle: "블록체인 로드맵 - 블록체인 운영"
date: 2022-11-15 11:23:00
author: "Hebi"
header-img: "img/블록체인.png"
header-mask: 0.3
catalog: true
tags:
  - Blockchain
  - web3
  - RoadMap
---

> 블록체인을 학습

# 기본 블록체인 운영

## 블록체인

![분산](https://user-images.githubusercontent.com/88940298/198505483-66075732-c717-417f-9b8e-2f44619071a7.png)

- 블록체인은 본질적으로 블록체인에 있는 컴퓨터 시스템의 전체 네트워크에 복제 및 배포되는 거래의 디지털 장부

```
재원
보건 의료
정부
조작
공급망 및 유통
```

- 등에 사용

## 비트코인 블록체인 정의

- 지속적으로 작동하는 디지털 통화 시스템
- 블록체인이라는 자율적인 탈중앙화 응용 기술의 모델
- 탈중앙화 네트워크에서의 P2P 거래
- 알려지지 않은 피어 간의 신뢰 구축
- 불변의 분산 원장에 트랜잭션 기록

## 중앙 집중식 네트워크와 분산 네트워크

- 중앙 집중식 네트워크의 이 예에는 트랜잭션을 용이하게 하는 여러 중개자가 있다.

```
고객의 은행
 신용카드의 은행
 신용카드 대리점
 교환
 상인의 은행
 상인
```

- 분산 시스템에서 고객과 상인은 서로 직접 거래할 수 있다.
- 이 경우 중개자의 기능은 주변부, 즉 블록체인 인프라의 P2P 참여자에게 이전된다.
- 이러한 피어는 트랜잭션을 검증, 확인 및 확인할 수 있는 프로세스를 통해 신뢰를 구축할 수 있지만 반드시 서로를 알고 있는 것은 아니다.
- 트랜잭션은 또한 블록의 분산 원장 에 기록되어 변조할 수 없는 블록 체인을 생성한다.
- 블록체인에는 블록이 체인에 추가되는 방식에 대한 합의를 정의하는 합의 프로토콜 도 있다.
- 이러한 검증, 검증, 합의 및 불변의 기록 보관 메커니즘을 통해 블록체인의 피어 간에 신뢰와 보안이 이루어 진다.

## 블록체인 구조

- 비트코인 블록체인에서 트랜잭션은 기본 요소이다.
- 트랜잭션이 검증되고 브로드캐스트된다.
- 많은 트랜잭션이 단일 블록을 형성한다.
- 많은 블록이 체인을 형성한다.
- 블록은 체인에 추가할 다음 블록을 선택하는 합의 프로세스를 거친다.
- 그런 다음 선택한 블록이 확인되고 체인에 추가한다.
- 이 검증 프로세스는 miners 라고 하는 특별한 피어 노드에 의해 수행된다.

```
* miners :광부
* 트랜잭션:거래내역
* 브로드캐스트:송신 호스트가 전송한 데이터가 네트워크에 연결된 모든 호스트에 전송되는 방식
```

## 비트코인 블록체인의 단일 거래 이해

- 비트코인 네트워크의 핵심 개념은 UTXO라고도 하는 미사용 트랜잭션 출력이다.
- UTXO는 트랜잭션의 입력으로 참조되며 트랜잭션에서 생성된 출력이기도하다.
- 시스템의 모든 UTXO는 네트워크의 참가자 노드에 의해 데이터베이스에 저장된다.
- 비트코인 블록체인에서 트랜잭션은 하나 이상의 UTXO로 지정된 금액을 사용하고 하나 이상의 새로운 출력 UTXO로 전송한다.
- UTXO의 구조(Unspent Transaction Output)

```
1.UTXO를 생성한 트랜잭션의 고유 식별자
2.트랜잭션 출력 목록에서 UTXO의 위치 인덱스
3.거래의 가치
4.출력을 사용할 수 있는 조건을 지정하는 선택적 스크립트
```

- 트랜잭션 자체에는 다음 요소가 포함된다.

```
- 현재 거래의 참조 번호
- 하나 이상의 입력 UTXO에 대한 참조
- 현재 트랜잭션에서 생성된 하나 이상의 출력 UTXO에 대한 참조
- 총 입출력 금액
```

## UTXO

- UTXO 란 Unspent Transaction Output 의 약자로, 아직 쓰지않은 잔액 이라는 의미
  ![utxo1](https://user-images.githubusercontent.com/88940298/198505562-e9c67a25-b0cb-4fdb-9323-896c5f9cf144.jpeg)

- 지갑의 UTXO들은 해당 지갑 주인(소유주)에 대해 공개키 암호로 잠겨있다.
  ![utxo2](https://user-images.githubusercontent.com/88940298/198505613-d29bf163-1efd-4125-aee8-839875aeb7a6.jpeg)

- A, B가 F에게 각 1BTC, 2BTC를 송금해주고 C, D, E가 G에게 3BTC, 4BTC, 10BTC를 송금을 하면 F와 G는 각 UTXO가 2개, 3개가 되어 총 UTXO가 5개 생성  
  ![utxo](https://user-images.githubusercontent.com/88940298/198505649-4a68d44b-312b-47bd-b199-40e060b811fe.jpeg)

- G가 H에게 9BTC를 보내려고 하는 그림
- 먼저 G가 가진 UTXO 중 9BTC 이상인 값을 찾고,10BTC인 UTXO가 존재하여 해당 값을 입력값으로 넣는다.
- H의 지갑에서 출력값으로 찍히게 되는 9BTC를 제외하고 1BTC는 G의 지갑에 찍히게 된다.
- 위 절차를 거치게 되면 UTXO는 5개에서 6개로 늘어난 것을 확인할수 있다.
- 비트코인 지갑이 사용할 수 있는 UTXO를 찾아 데이터를 전송하는 역할을 해준다.

## 기본 블록체인 작업

- 분산 네트워크에서의 작업은 피어 참가자와 해당 계산 노드의 책임이다.

```
블록에 대한 트랜잭션 수집
유효한 트랜잭션 및 블록 브로드캐스트
생성될 다음 블록에 대한 합의 도달
블록을 함께 연결하여 변경할 수 없는 레코드 형성
```

## 비트코인 블록체인 운영

- 비트코인 네트워크에는 두 가지 주요 참여자가 있다.
- 첫 번째 참여자는 거래를 생성하여 가치 이전을 시작하는 사람들이다.
- 두 번째 참가자 그룹은 광부라고 하며 다음 작업에 필요한 계산 리소스를 제공한다.

```
거래 확인
브로드캐스트 트랜잭션
블록을 만들 수 있는 권리를 놓고 경쟁하세요.
블록을 검증하여 합의에 도달
새 블록 브로드캐스트
거래 확인
```

- 채굴자가 제공하는 이러한 계산 자원에 대해 현재 6.25 BTC로 설정되어 있는 새로 발행된 비트코인으로 인센티브를 받고 보상을 받는다.
- 광부가 합의에 도달하기 위해 사용하는 알고리즘을 작업 증명 프로토콜이라고 하며, 이를 통해 광부는 퍼즐을 해결하고 체인에 새 블록을 추가할 권리를 주장하는 데 필요한 계산 작업을 제공해야 한다.
